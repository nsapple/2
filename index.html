<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Auto Play All Sounds</title>
<style>
  body {
    background: #000; color: #fff; text-align: center;
    font-family: Arial, sans-serif; padding: 40px;
  }
</style>
</head>
<body>
<h1>ðŸŽ§ Attempting to play all sounds...</h1>
<p>If your browser blocks autoplay, click anywhere to start.</p>

<script>
const audioFolder = 'audios/';
const files = [
  'dry-fart.mp3',
  'dun.mp3',
  'fun.mp3',
  'labubu.mp3',
  'start.mp3'
];

// Create Audio objects
const audios = files.map(f => new Audio(audioFolder + f));

// Sequential playback
async function playSequential() {
  for (const a of audios) {
    try {
      await playOne(a);
    } catch(e) { console.warn(e); }
  }
}

function playOne(audio) {
  return new Promise(resolve => {
    audio.addEventListener('ended', resolve, {once:true});
    audio.addEventListener('error', resolve, {once:true});
    audio.play().then(resolve).catch(err => {
      console.log('Autoplay blocked, retrying soon:', err);
      resolve(); // continue sequence
    });
  });
}

// Try to play on load
function tryPlayAll() {
  console.log('Trying autoplay...');
  for (const a of audios) {
    a.play().catch(()=>{}); // best-effort concurrent play
  }
  // also attempt sequentially (some browsers allow one active stream)
  playSequential();
}

// Keep retrying every second until any audio starts
let retryInterval = setInterval(() => {
  const anyPlaying = audios.some(a => !a.paused);
  if (!anyPlaying) tryPlayAll();
  else {
    clearInterval(retryInterval);
    console.log('âœ… Audio is playing');
  }
}, 1000);

// If user clicks/touches anywhere, retry immediately
document.addEventListener('click', () => {
  console.log('User interaction detected, forcing play');
  tryPlayAll();
}, {once:true});

window.addEventListener('load', tryPlayAll);
</script>
</body>
</html>
